V1:


**请严格按照以下 5 个维度进行结构化分析，每个维度都需要详细、专业的分析：**

    ## 1. Model Stack（技术栈与模型依赖）
    - 分析该产品使用的核心技术栈
    - 识别其依赖的 AI 模型或技术框架
    - 评估技术架构的先进性和可扩展性
    - 指出潜在的技术风险或依赖

    ## 2. Scene-Fit（核心解决的细分场景）
    - 明确该产品针对的具体使用场景
    - 分析场景的细分程度和精准度
    - 评估场景覆盖的完整性和深度
    - 识别未被充分满足的场景需求

    ## 3. Data Moat（数据闭环与护城河）
    - 分析产品的数据获取渠道和方式
    - 评估数据质量和数据量级
    - 识别数据闭环的形成机制
    - 评估数据护城河的强度和可持续性

    ## 4. UX Friction（交互痛点分析）
    - 识别用户在使用过程中的主要痛点
    - 分析交互流程中的摩擦点
    - 评估用户体验的流畅度和易用性
    - 指出需要改进的交互环节

    ## 5. Commercial ROI（商业化价值评估）
    - 分析产品的商业模式和盈利点
    - 评估市场定价策略的合理性
    - 分析目标用户群体的付费意愿
    - 评估商业化的可持续性和增长潜力

    ## 6. 错位竞争建议
    - 基于以上分析，提供 1-2 条具体的错位竞争策略建议
    - 建议应该具有可执行性和差异化优势

    **输出格式要求：**
    你必须返回一个 JSON 对象，且必须严格包含以下 6 个字段（Key 必须完全一致，不能多也不能少）：
    {{
        "model_stack": "详细分析内容...",
        "scene_fit": "详细分析内容...",
        "data_moat": "详细分析内容...",
        "ux_friction": "详细分析内容...",
        "commercial_roi": "详细分析内容...",
        "strategy_advice": "错位竞争建议内容..."
    }}

    重要要求：
    1. 必须返回有效的 JSON 格式，且 JSON 必须完整（不能截断）
    2. Key 名称必须完全匹配上述 6 个字段名
    3. 每个字段的内容必须完整，不能截断
    4. 请确保分析深入、专业，并基于实际的产品理解
    5. 特别注意：JSON 字符串中的引号必须正确转义，确保 JSON 格式有效
    """



V2:
def create_analysis_prompt(product_input: str, web_context: str = "") -> str:
    """创建强迫结构化输出且 Key 严格对齐的分析提示词"""
    prompt = f"""
你是一位在硅谷深耕多年的资深 AI 产品战略专家。
请结合以下【实时搜集的情报】，对竞品 '{product_input}' 进行深度拆解。

【实时情报参考】
{web_context}

**🎯 核心输出要求（必须严格遵守）：**
你必须返回一个严格的 JSON 对象，且 JSON 的 Key 必须【完全匹配】以下定义的名称，不得有误：

1. **Key: "model_stack"**
   内容要求：分析技术底座、AI 模型依赖、技术瓶颈。使用 Markdown 的 `###` 标题和列表。

2. **Key: "scene_fit"**
   内容要求：分析核心场景、用户准入门槛、场景延展性。使用 Markdown 的 `###` 标题和列表。

3. **Key: "data_moat"**
   内容要求：分析数据获取、反馈飞轮、护城河可持续性。使用 Markdown 的 `###` 标题和列表。

4. **Key: "ux_friction"**
   内容要求：分析认知负担、交互摩擦点、体验改进建议。使用 Markdown 的 `###` 标题和列表。

5. **Key: "commercial_roi"**
   内容要求：分析变现引擎、成本收益推算、增长潜力。使用 Markdown 的 `###` 标题和列表。

6. **Key: "strategy_advice"**
   内容要求：给出 1-2 条具体的、加粗的错位竞争金句建议。

**⚠️ 格式禁令：**
- **JSON 字段名（Key）严禁包含数字前缀**（如不要写成 "1. model_stack"）。
- 所有 Value 中的内容必须结构化，多用 **加粗** 和 列表。
- 所有的换行符必须转义为 '\\n'。
"""
    return prompt


V3:

def create_analysis_prompt(product_input: str) -> str:
    """创建强迫结构化输出且 Key 严格对齐的分析提示词"""
    prompt = f"""
你是一位在硅谷深耕多年的资深 AI 产品战略专家。
请结合以下【实时搜集的情报】，对竞品 '{product_input}' 进行深度拆解。



**🎯 核心输出要求（必须严格遵守）：**
你必须返回一个严格的 JSON 对象，且 JSON 的 Key 必须【完全匹配】以下定义的名称，不得有误：

1. **Key: "model_stack"**
   内容要求：分析技术底座、AI 模型依赖、技术瓶颈。使用 Markdown 的 `###` 标题和列表。

2. **Key: "scene_fit"**
   内容要求：分析核心场景、用户准入门槛、场景延展性。使用 Markdown 的 `###` 标题和列表。

3. **Key: "data_moat"**
   内容要求：分析数据获取、反馈飞轮、护城河可持续性。使用 Markdown 的 `###` 标题和列表。

4. **Key: "ux_friction"**
   内容要求：分析认知负担、交互摩擦点、体验改进建议。使用 Markdown 的 `###` 标题和列表。

5. **Key: "commercial_roi"**
   内容要求：分析变现引擎、成本收益推算、增长潜力。使用 Markdown 的 `###` 标题和列表。

6. **Key: "strategy_advice"**
   内容要求：给出 1-2 条具体的、加粗的错位竞争金句建议。

**⚠️ 格式禁令：**
- **JSON 字段名（Key）严禁包含数字前缀**（如不要写成 "1. model_stack"）。
- 所有 Value 中的内容必须结构化，多用 **加粗** 和 列表。
- 所有的换行符必须转义为 '\\n'。
"""
    return prompt